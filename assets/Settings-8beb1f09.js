import{u as N,c as P,i as q,a as z,b as a,d as l,t as A,e as B}from"./index-24d74da4.js";import{L as G}from"./ListErrors-9b16aafa.js";const H=A('<div class="settings-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center">Your Settings</h1><form><fieldset><fieldset class="form-group"><input class="form-control" type="text" placeholder="URL of profile picture"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Your Name"></fieldset><fieldset class="form-group"><textarea class="form-control form-control-lg" rows="8" placeholder="Short bio about you"></textarea></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Email"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="Password"></fieldset><button class="btn btn-lg btn-primary pull-xs-right" type="submit">Update Settings</button></fieldset></form><hr><button class="btn btn-outline-danger">Or click here to logout.'),K=()=>{const[n,{logout:L,updateUser:k}]=N(),[e,o]=P({image:n.currentUser.image||"",username:n.currentUser.username,bio:n.currentUser.bio||"",email:n.currentUser.email,password:""}),i=r=>s=>o(r,s.target.value),O=r=>{r.preventDefault();const s=Object.assign({},e);s.password||delete s.password,s.image||delete s.image,o({updatingUser:!0}),k(s).then(()=>location.hash=`/@${s.username}`).catch(c=>o({errors:c})).finally(()=>o({updatingUser:!1}))};return(()=>{const r=H(),s=r.firstChild,c=s.firstChild,p=c.firstChild,R=p.firstChild,d=R.nextSibling,Y=d.firstChild,$=Y.firstChild,u=$.firstChild,b=$.nextSibling,f=b.firstChild,h=b.nextSibling,g=h.firstChild,_=h.nextSibling,m=_.firstChild,x=_.nextSibling,v=x.firstChild,j=x.nextSibling,D=d.nextSibling,F=D.nextSibling;return q(p,z(G,{get errors(){return e.errors}}),d),d.addEventListener("submit",O),a(u,"change",i("image")),a(f,"change",i("username")),a(g,"change",i("bio")),a(m,"change",i("email")),a(v,"change",i("password")),F.$$click=()=>(L(),location.hash="/"),l(t=>{const S=e.updatingUser,U=e.updatingUser,C=e.updatingUser,w=e.updatingUser,y=e.updatingUser,E=e.updatingUser;return S!==t._v$&&(u.disabled=t._v$=S),U!==t._v$2&&(f.disabled=t._v$2=U),C!==t._v$3&&(g.disabled=t._v$3=C),w!==t._v$4&&(m.disabled=t._v$4=w),y!==t._v$5&&(v.disabled=t._v$5=y),E!==t._v$6&&(j.disabled=t._v$6=E),t},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),l(()=>u.value=e.image||""),l(()=>f.value=e.username||""),l(()=>g.value=e.bio||""),l(()=>m.value=e.email||""),l(()=>v.value=e.password||""),r})()};B(["click"]);export{K as default};
//# sourceMappingURL=Settings-8beb1f09.js.map
