import{g as N,i as P,m as q,y as a,j as l,t as z,h as A}from"./vendor-26062862.js";import{L as B}from"./ListErrors-0bcc1fdc.js";import{u as G}from"./index-004e05de.js";const H=z('<div class="settings-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center">Your Settings</h1><form><fieldset><fieldset class="form-group"><input class="form-control" type="text" placeholder="URL of profile picture"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Your Name"></fieldset><fieldset class="form-group"><textarea class="form-control form-control-lg" rows="8" placeholder="Short bio about you"></textarea></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Email"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="Password"></fieldset><button class="btn btn-lg btn-primary pull-xs-right" type="submit">Update Settings</button></fieldset></form><hr><button class="btn btn-outline-danger">Or click here to logout.'),M=()=>{const[n,{logout:L,updateUser:k}]=G(),[e,o]=N({image:n.currentUser.image||"",username:n.currentUser.username,bio:n.currentUser.bio||"",email:n.currentUser.email,password:""}),i=r=>s=>o(r,s.target.value),j=r=>{r.preventDefault();const s=Object.assign({},e);s.password||delete s.password,s.image||delete s.image,o({updatingUser:!0}),k(s).then(()=>location.hash=`/@${s.username}`).catch(c=>o({errors:c})).finally(()=>o({updatingUser:!1}))};return(()=>{const r=H(),s=r.firstChild,c=s.firstChild,v=c.firstChild,O=v.firstChild,d=O.nextSibling,R=d.firstChild,$=R.firstChild,u=$.firstChild,h=$.nextSibling,f=h.firstChild,_=h.nextSibling,g=_.firstChild,b=_.nextSibling,m=b.firstChild,x=b.nextSibling,p=x.firstChild,Y=x.nextSibling,D=d.nextSibling,F=D.nextSibling;return P(v,q(B,{get errors(){return e.errors}}),d),d.addEventListener("submit",j),a(u,"change",i("image")),a(f,"change",i("username")),a(g,"change",i("bio")),a(m,"change",i("email")),a(p,"change",i("password")),F.$$click=()=>(L(),location.hash="/"),l(t=>{const S=e.updatingUser,U=e.updatingUser,C=e.updatingUser,w=e.updatingUser,y=e.updatingUser,E=e.updatingUser;return S!==t._v$&&(u.disabled=t._v$=S),U!==t._v$2&&(f.disabled=t._v$2=U),C!==t._v$3&&(g.disabled=t._v$3=C),w!==t._v$4&&(m.disabled=t._v$4=w),y!==t._v$5&&(p.disabled=t._v$5=y),E!==t._v$6&&(Y.disabled=t._v$6=E),t},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),l(()=>u.value=e.image||""),l(()=>f.value=e.username||""),l(()=>g.value=e.bio||""),l(()=>m.value=e.email||""),l(()=>p.value=e.password||""),r})()};A(["click"]);export{M as default};
//# sourceMappingURL=Settings-66c003aa.js.map
