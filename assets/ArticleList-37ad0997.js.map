{"version":3,"file":"ArticleList-37ad0997.js","sources":["../../src/components/ArticlePreview.tsx","../../src/components/ArticleList.tsx"],"sourcesContent":["import { NavLink } from './NavLink'\nimport { IArticle } from '../api/RealWorldApi'\nimport { FavoriteButton } from '../components/FavoriteButton'\n\ninterface IArticlePreviewProps {\n  article: IArticle\n  token: string\n  onClickFavorite: (article: IArticle, e: InputEvent) => void\n}\n\n/**\n * Provides preview of an article, used when listing pages\n * of articles on the home page\n */\n\nexport const ArticlePreview = ({ article, token, onClickFavorite }: IArticlePreviewProps) => {\n  const {\n    title,\n    description,\n    slug,\n    createdAt,\n    tagList,\n    favorited,\n    favoritesCount,\n    author: { username, image }\n  } = article\n\n  return (\n    <div class=\"article-preview\">\n      <div class=\"article-meta\">\n        <NavLink href={`@${username}`} route=\"profile\">\n          <img src={image} alt=\"\" />\n        </NavLink>\n\n        <div class=\"info\">\n          <NavLink class=\"author\" href={`@${username}`} route=\"profile\">\n            {username}\n          </NavLink>\n          <span class=\"date\" textContent={/*@once*/ new Date(createdAt).toDateString()} />\n        </div>\n\n        <div class=\"pull-xs-right\">\n          <FavoriteButton article={article} onClick={onClickFavorite} />\n        </div>\n\n      </div>\n\n      <NavLink href={`article/${slug}`} route=\"article\" class=\"preview-link\">\n        <h1>{title}</h1>\n        <p>{description}</p>\n        <span>Read more...</span>\n        <ul class=\"tag-list\">\n          {\n            /*@once*/\n            tagList.map(tag => (\n              <li class=\"tag-default tag-pill tag-outline\" textContent={tag} />\n            ))\n          }\n        </ul>\n      </NavLink>\n    </div>\n  )\n}\n","import { useStore } from '../store/storeContext';\nimport { useRouter } from '../routeContext'\nimport { ArticlePreview } from './ArticlePreview'\nimport { IArticle } from '../api/RealWorldApi'\n\ninterface IArticleListProps {\n  articles: Proxy<IArticle>[]\n  currentPage: number\n  onSetPage(page: number)\n  totalPagesCount: number\n}\n\n/**\n * List of articles with paginator\n *\n * @param props\n * @returns\n */\n\nexport const ArticleList = (props: IArticleListProps) => {\n  const { location, setLocation } = useRouter()\n  const [{ token }, { unmakeFavorite, makeFavorite }] = useStore()\n\n  const handleClickFavorite = (article: IArticle, e: InputEvent) => {\n    e.preventDefault()\n    if (token) {\n      article.favorited ? unmakeFavorite(article.slug) : makeFavorite(article.slug)\n    }\n    else {\n      setLocation('login')\n    }\n  }\n\n  const handlePage = (v: number, e: InputEvent) => {\n    e.preventDefault()\n    props.onSetPage(v)\n    setTimeout(() => window.scrollTo(0, 0), 200)\n  }\n\n  return (\n    <Suspense fallback={<div class=\"article-preview\">Loading articles...</div>}>\n      <For each={props.articles} fallback={<div class=\"article-preview\">No articles are here... yet.</div>}>\n        {(article: IArticle) => <ArticlePreview article={article} token={token} onClickFavorite={handleClickFavorite} />}\n      </For>\n      <Show when={props.totalPagesCount > 1}>\n        <nav>\n          <ul class=\"pagination\">\n            <For each={[...Array(props.totalPagesCount).keys()]}>\n              {(v: number) => (\n                <li class=\"page-item\" classList={{ active: props.currentPage === v }} onClick={[handlePage, v]}>\n                  <a class=\"page-link\" href=\"\" textContent={v + 1} />\n                </li>\n              )}\n            </For>\n          </ul>\n        </nav>\n      </Show>\n    </Suspense>\n  )\n}\n"],"names":["ArticlePreview","article","token","onClickFavorite","title","description","slug","createdAt","tagList","favorited","favoritesCount","author","username","image","_el$","_tmpl$6","_el$2","firstChild","_el$4","_el$5","_el$6","nextSibling","_$insert","_$createComponent","NavLink","href","route","children","_el$3","_tmpl$","_$setAttribute","textContent","Date","toDateString","FavoriteButton","onClick","_el$7","_tmpl$2","_el$8","_tmpl$3","_tmpl$4","_el$10","_tmpl$5","map","tag","_el$11","_tmpl$7","ArticleList","props","location","setLocation","useRouter","unmakeFavorite","makeFavorite","useStore","handleClickFavorite","e","preventDefault","handlePage","v","onSetPage","setTimeout","window","scrollTo","_$Suspense","fallback","_$For","each","articles","_$Show","when","totalPagesCount","Array","keys","$$click","$$clickData","_$effect","classList","toggle","currentPage","_$delegateEvents"],"mappings":"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"}