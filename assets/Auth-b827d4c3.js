import{c as N,u as k,f as R,a as c,N as b,i as d,d as n,t as C}from"./index-24d74da4.js";import{L as A}from"./ListErrors-9b16aafa.js";const D=C('<div class="auth-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center"></h1><p class="text-xs-center"></p><form><fieldset class="form-group"><input class="form-control form-control-lg" type="text" aria-label="email" placeholder="Email"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" aria-label="password" placeholder="Password"></fieldset><button class="btn btn-lg btn-primary pull-xs-right" type="submit">'),H=C('<fieldset class="form-group"><input class="form-control form-control-lg" type="text" aria-label="username" placeholder="Username">'),q=()=>{const[e,t]=N({username:"",inProgress:!1}),[,{register:S,login:L}]=k(),{setLocation:w}=R(),r=location.hash.includes("login"),u=r?"Sign in":"Sign up",E=r?c(b,{route:"register",children:"Need an account?"}):c(b,{route:"login",children:"Have an account?"}),y=l=>{l.preventDefault(),t({inProgress:!0}),(r?L(e.email,e.password):S(e.username,e.email,e.password)).then(()=>w("")).catch(o=>t({errors:o})).finally(()=>t({inProgress:!1}))};return(()=>{const l=D(),m=l.firstChild,o=m.firstChild,p=o.firstChild,f=p.firstChild,g=f.nextSibling,a=g.nextSibling,i=a.firstChild,h=i.firstChild,v=i.nextSibling,x=v.firstChild,_=v.nextSibling;return f.textContent=u,d(g,E),d(p,c(A,{get errors(){return e.errors}}),a),a.addEventListener("submit",y),d(a,!r&&(()=>{const s=H(),$=s.firstChild;return $.addEventListener("change",P=>t({username:P.target.value})),n(()=>$.value=e.username||""),s})(),i),h.addEventListener("change",s=>t({email:s.target.value})),x.addEventListener("change",s=>t({password:s.target.value})),_.textContent=u,n(()=>_.disabled=e.inProgress),n(()=>h.value=e.email||""),n(()=>x.value=e.password||""),l})()};export{q as default};
//# sourceMappingURL=Auth-b827d4c3.js.map
